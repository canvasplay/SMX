
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    
    
    <title>source: playhead/Playhead.js - Documentation</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">


    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

    <!--<link rel="stylesheet" href="https://cdn.rawgit.com/isagalaev/highlight.js/cf4b46e5/src/styles/default.css">-->
    <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>-->
    <!--<script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>-->
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/prettify.js"></script>

    <script src="scripts/jsdoc.js"></script>
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">

    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">

</head>
<body class="kind-source">

<div class="nav__overlay" onclick="$('body').removeClass('nav-visible');">
</div>

<a class="nav__toggle" href="javascript:$('body').toggleClass('nav-visible');">
  &#x2261;
</a>

<nav>
  
  <form class="search-form">
    <div class="form-group">
      <input
        type="search"
        id="NavSearchInput"
        class="form-control form-control-sm"
        autocomplete="off"
        placeholder="Search..."
      />
    </div>
  </form>

  <ul>

  
  <li class="index">
    
    <h3><a href="index.html">SMX</a></h3>
    
  </li>
  
  <li class="namespaces">
    
    <h3>Namespaces</h3>
    
    <ul>
      
      <li class="namespace">

  <a href="smx.html">smx</a>
  
  
  <ul>
    
      <li class="member">

  <a href="smx.html#.version">version</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.html#.document">document</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.html#.documents">documents</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.html#.modules">modules</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.html#.registerModule">registerModule</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.html#.smx">smx</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.html#.load">load</a>
  
  

</li>
    
      <li class="typedef">

  <a href="smx.html#~onLoadSuccess">onLoadSuccess</a>
  
  

</li>
    
      <li class="typedef">

  <a href="smx.html#~onLoadError">onLoadError</a>
  
  

</li>
    
  </ul>
  

</li>
      
    </ul>
    
  </li>
  
  <li class="classes">
    
    <h3>Classes</h3>
    
    <ul>
      
      <li class="class">

  <a href="smx.Document.html">Document</a>
  
  
  <ul>
    
      <li class="member">

  <a href="smx.Document.html#%255B0%255D">[0]</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Document.html#_cache">_cache</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Document.html#_data">_data</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Document.html#path">path</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Document.html#src">src</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Document.html#root">root</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Document.html#getNodeById">getNodeById</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Document.html#find">find</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Document.html#wrap">wrap</a>
  
  

</li>
    
  </ul>
  

</li>
      
      <li class="class">

  <a href="smx.Node.html">Node</a>
  
  
  <ul>
    
      <li class="member">

  <a href="smx.Node.html#%255B0%255D">[0]</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#id">id</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#name">name</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#type">type</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#className">className</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#document">document</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#hash">hash</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#uri">uri</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#url">url</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#src">src</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#parent">parent</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#ancestors">ancestors</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#root">root</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#children">children</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#first">first</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#last">last</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#previous">previous</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Node.html#next">next</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#getIndex">getIndex</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#getText">getText</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#getHTML">getHTML</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#getData">getData</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#toString">toString</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#toJSON">toJSON</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#attr">attr</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#get">get</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#has">has</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#dsv">dsv</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#getAncestors">getAncestors</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#isAncestorOf">isAncestorOf</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#isMatch">isMatch</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#find">find</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#findOne">findOne</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#getChildren">getChildren</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#getFirst">getFirst</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#getLast">getLast</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#getChildAt">getChildAt</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#isDescendantOf">isDescendantOf</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#getNext">getNext</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#getAllNext">getAllNext</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#getPrevious">getPrevious</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Node.html#getAllPrevious">getAllPrevious</a>
  
  

</li>
    
  </ul>
  

</li>
      
      <li class="class">

  <a href="smx.Loader.html">Loader</a>
  
  
  <ul>
    
      <li class="member">

  <a href="smx.Loader.html#xhr">xhr</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Loader.html#load">load</a>
  
  

</li>
    
      <li class="event">

  <a href="smx.Loader.html#.event:complete">complete</a>
  
  

</li>
    
      <li class="event">

  <a href="smx.Loader.html#.event:error">error</a>
  
  

</li>
    
  </ul>
  

</li>
      
      <li class="class">

  <a href="smx.Playhead.html">Playhead</a>
  
  
  <ul>
    
      <li class="member">

  <a href="smx.Playhead.html#_document">_document</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Playhead.html#_selection">_selection</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Playhead.html#document">document</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Playhead.html#selection">selection</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Playhead.html#head">head</a>
  
  

</li>
    
      <li class="member">

  <a href="smx.Playhead.html#root">root</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Playhead.html#reset">reset</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Playhead.html#play">play</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Playhead.html#enter">enter</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Playhead.html#exit">exit</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Playhead.html#next">next</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Playhead.html#previous">previous</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Playhead.html#forward">forward</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Playhead.html#backward">backward</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Playhead.html#exec">exec</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Playhead.html#navigate">navigate</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Playhead.html#on">on</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Playhead.html#once">once</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.Playhead.html#off">off</a>
  
  

</li>
    
      <li class="typedef">

  <a href="smx.Playhead.html#.PlayheadEvent">PlayheadEvent</a>
  
  

</li>
    
  </ul>
  

</li>
      
    </ul>
    
  </li>
  
  <li class="modules">
    
    <h3>Modules</h3>
    
    <ul>
      
      <li class="module">

  <a href="smx.module_Metadata.html">Metadata</a>
  
  
  <ul>
    
      <li class="module">

  <a href="smx.module_Metadata.module_MetadataProcessor.html">MetadataProcessor</a>
  
  
  <ul>
    
      <li class="function">

  <a href="smx.module_Metadata.module_MetadataProcessor.html#~processXMLDocument">processXMLDocument</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.module_Metadata.module_MetadataProcessor.html#~processMetadataNode">processMetadataNode</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.module_Metadata.module_MetadataProcessor.html#~processMetaAttributes">processMetaAttributes</a>
  
  

</li>
    
  </ul>
  

</li>
    
      <li class="mixin">

  <a href="smx.module_Metadata.Document-Metadata.html">Document-Metadata</a>
  
  

</li>
    
      <li class="mixin">

  <a href="smx.module_Metadata.Node-Metadata.html">Node-Metadata</a>
  
  
  <ul>
    
      <li class="function">

  <a href="smx.module_Metadata.Node-Metadata.html#meta">meta</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.module_Metadata.Node-Metadata.html#interpolate">interpolate</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.module_Metadata.Node-Metadata.html#search">search</a>
  
  

</li>
    
  </ul>
  

</li>
    
  </ul>
  

</li>
      
      <li class="module">

  <a href="smx.module_Prototype.html">Prototype</a>
  
  
  <ul>
    
      <li class="module">

  <a href="smx.module_Prototype.module_PrototypeProcessor.html">PrototypeProcessor</a>
  
  
  <ul>
    
      <li class="function">

  <a href="smx.module_Prototype.module_PrototypeProcessor.html#~processXMLDocument">processXMLDocument</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.module_Prototype.module_PrototypeProcessor.html#~processXMLNode">processXMLNode</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.module_Prototype.module_PrototypeProcessor.html#~applyPrototypes">applyPrototypes</a>
  
  

</li>
    
  </ul>
  

</li>
    
  </ul>
  

</li>
      
      <li class="module">

  <a href="smx.module_Taxonomy.html">Taxonomy</a>
  
  
  <ul>
    
      <li class="module">

  <a href="smx.module_Taxonomy.module_TaxonomyProcessor.html">TaxonomyProcessor</a>
  
  
  <ul>
    
      <li class="function">

  <a href="smx.module_Taxonomy.module_TaxonomyProcessor.html#~processXMLDocument">processXMLDocument</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.module_Taxonomy.module_TaxonomyProcessor.html#~processXMLNode">processXMLNode</a>
  
  

</li>
    
  </ul>
  

</li>
    
      <li class="mixin">

  <a href="smx.module_Taxonomy.Node-Taxonomy.html">Node-Taxonomy</a>
  
  
  <ul>
    
      <li class="function">

  <a href="smx.module_Taxonomy.Node-Taxonomy.html#.getTags">getTags</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.module_Taxonomy.Node-Taxonomy.html#.getCategories">getCategories</a>
  
  

</li>
    
      <li class="function">

  <a href="smx.module_Taxonomy.Node-Taxonomy.html#.getBranches">getBranches</a>
  
  

</li>
    
  </ul>
  

</li>
    
  </ul>
  

</li>
      
      <li class="module">

  <a href="smx.module_Ui.html">Ui</a>
  
  
  <ul>
    
      <li class="mixin">

  <a href="smx.module_Ui.Node-Ui.html">Node-Ui</a>
  
  
  <ul>
    
      <li class="function">

  <a href="smx.module_Ui.Node-Ui.html#.ui">ui</a>
  
  

</li>
    
  </ul>
  

</li>
    
  </ul>
  

</li>
      
    </ul>
    
  </li>
  
  
</ul>
  
  <footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Apr 02 2018 15:27:00 GMT+0200 (CEST) using the <a href="https://github.com/canvasplay/smx-jsdoc-template">smx-jsdoc-template</a> theme.
  </footer>

</nav>

<article>

  
    
<header>

  <h1 class="article__title">
    <small>source</small>
    Playhead.js
  </h1>

  <div class="details-mini">
    

<div class="source-links">
  Full url: ./playhead/Playhead.js
</div>

  </div>
  
</header>

<section class="article__source">
  <pre class="prettyprint source linenums">
    <code>import Eventify from 'eventify';


/**
 * @memberof smx
 * @desc
 * The Playhead class is a {@link smx.Document Document} navigation controller.
 *
 * Provides a plain interface to navigate along a Document tree,
 * keeps a navigation registry and emits useful events for listening
 * to any movement.
 */
class Playhead{

	/**
	 * @param {smx.Document} document - The document to navigate through
	 */
	constructor(doc){
    
		//document is required
		if(!doc) return;
    
		//extend with events on, off, trigger
		Eventify.enable(this);
    
		/**
		 * The document to navigate through
		 * @type {smx.Document}
		 * @private
		 */
		this._document = doc;
		
		/**
		 * Contains all currently selected nodes ordered from outter to inner.
		 * @type {smx.Node[]}
		 * @private
		 */
		this._selection = [];

	}


	/**
	 * Gets the associated document
	 * @type {smx.Document}
	 * @readonly
	 */
	get document(){
		return this._document;
	}


	/**
	 * Gets all currently selected nodes ordered from outter to inner.
	 * @type {smx.Node[]}
	 * @readonly
	 */
	get selection() {
		return this._selection;
	}

	/**
	 * Gets the head node, which is the last node in selection.
	 * @type {smx.Node}
	 * @readonly
	 */
	get head(){
		return this._selection[this._selection.length - 1];
	}

	/**
	 * Gets the root node, which is the first node selection.
	 * @type {smx.Node}
	 * @readonly
	 */
	get root(){
		return this._selection[0];
	}

	/**
	 * Navigates to document's root node.
	 */
  reset() {
    return this.navigate(this.document.root);
  }

	/**
	 * Performs play action
	 * @param {(String|smx.Node)=} ref target reference
	 */
	play(ref){
    
		//no reference? just do a forward
		if(!ref) return this.forward();
		
		//resolve target node
		var tnode = (ref.id)? ref : this.document.getNodeById(ref);
    
		//not found? ignore...
		if(tnode) return this.navigate(tnode);
		
		//else ignore
		return;
    
  }
  
  /**
   * Navigates to an inner node, moves the head to current head's first child.
   */
  enter(){
    
    //get current node
    var cnode = this.head; if(!cnode) return;
    
    //get children nodes
    let children = cnode.children;
    
    //no children?
    if (!children.length) return;
    
    //get first child
    var tnode = children[0];
    
    //navigates to target node
		return this.navigate(tnode);
    
  }

  /**
   * Navigates to an outter node, moves the head to current head's parent.
   */
  exit(){
    
    //get current node
    var cnode = this.head; if(!cnode) return;
    
    //has parent node?
    if(!cnode.parent) return;
    
    //get parent node
    var tnode = cnode.parent;
    
    //navigates to target node
		return this.navigate(tnode);
    
  }

	/**
	 * Navigates to current head's next sibling node.
	 */
  next(){
		
		//get current node
		var cnode = this.head; if(!cnode) return;

		//get next node
		var tnode = cnode.next; if (!tnode) return;
		
    //navigates to target node
		return this.navigate(tnode);
	}

	/**
	 * Navigates to current head's previous sibling node.
	 */
	previous(){
		
		//get current node
		var cnode = this.head; if(!cnode) return;
    
		//get previous node
		var tnode = cnode.previous; if (!tnode) return;
    
    //navigates to target node
		return this.navigate(tnode);
		
	}
	
	/**
	 * Navigates to current head's next node in flat tree mode.
	 */
	forward(){
		
		let tnode, cnode, children;
		
		//get current node
		cnode = this.head;
		
		//no current node? ignore
		if(!cnode) return;
    
		tnode = cnode.first || cnode.next;
    
		if(!tnode){
      
			var parent = cnode.parent;
			while(parent &amp;&amp; !tnode){
				tnode = parent.next;
				parent = parent.parent;
			}
      
    }
    
    return (tnode)? this.navigate(tnode) : null;
    
	}
  
	/**
   * Navigates to current head's previous node in flat tree mode.
	 */
  backward(){
    
		if(!this.head) return;
    var tnode = this.head.previous || this.head.parent;
    return (tnode)? this.navigate(tnode) : null;
    
	}

	/**
   * @param {String} keyword
   * @desc
	 * Executes a playhead command based on the given action keyword. keywords
	 * are basically some playhead's method names.
	 *
	 * List of valid commands:
	 * `reset`, `play`, `next`, `previous`,
	 * `enter`, `exit`, `forward`, `backward`.
	 *
	 */
	exec(keyword){
    	  
		//define valid keywords mapping existing methods
		var keywords = [
		  'reset', 'play', 'next', 'previous',
		  'enter', 'exit', 'forward', 'backward'
		];
    
    //resolve for a valid keyword
    var isValidKeyword = (keywords.indexOf(keyword)>=0);
    
    //not valid keyword? error!
		if(!isValidKeyword)
		  throw new Error( 'UNKNOWN KEYWORD "!"'+ keyword +'"' );
    
    //try-catched execution
		try{ return this[keyword]()	}
		catch(e){	throw new Error( 'Playhead Error: Keyword exec "!'+ keyword +'"', e) }
    
	}

	/**
   * @param {String|smx.Node} target
   * @desc
   *
	 * Navigates to a given target node or executes a playhead command.
	 * If `target` is a node will navigate to it, if `target` is a string will
	 * try to find a node identified as `target` and will navigate to it. If
	 * `target` is a `!` preffixed string will execute it as a playhead command.
	 *
	 * See {@link smx.Playhead#exec .exec()} for a list of valid commands.
	 *
	 * @example
	 * //instance a new Playhead
	 * var playhead = new smx.Playhead(doc);
	 *
	 * //navigate by node identifier
	 * playhead.navigate('a42');
	 *
	 * //to to given node
	 * playhead.navigate(node);
	 *
	 * //using commands
	 * playhead.navigate('!next')
	 * //same as
	 * playhead.exec('next')
	 * // or
	 * playhead.next();
	 *
	 */
  navigate(target){

		//check for a keyword, must be '!' preffixed string
    var isKeyword = (typeof target === 'string' &amp;&amp; target.indexOf('!') === 0);
		
		//keyword? resolve by exec unpreffixed reference
		if(isKeyword)
      return this.exec(target.substr(1));
    
		//resolve target node by reference
		//assuming having and id property means smx.Node...
    var tnode = (target.id) ? target : this.document.getNodeById(target);
    
    //no target found? error!
		if(!tnode)
      throw new Error('Playhead Error: Invalid target ' + target);
		
		//get current node
		var cnode = this.head;
		
		//no need to move...
		if(tnode === cnode) return cnode;
		
    //--> LEGACY ASYNC ATTR CONDITIONAL NAVIGATION WAS HERE...
    //see leagacy playhead implementations for more info
    
    //resets private navigation registry
		var selected = [], deselected = [];
    
    
    if(!cnode){
      cnode = this.document.root;
      selected.push(cnode);
    }
		
		/* trying a better approach */
		
		var isDescendant = cnode.isAncestorOf(tnode);
		var isAncestor = tnode.isAncestorOf(cnode);
    
    //aux filter fn for later use
		var isNodeOrAncestorOf = (n) => (n==tnode || n.isAncestorOf(tnode));
		
		var r = cnode;
		if(cnode === tnode){
		  //..
		}
		else if(isDescendant){
		  while(r!=tnode){
		    r = r.children.filter(isNodeOrAncestorOf)[0];
		    selected.push(r);
		  }
		}
		else if(isAncestor){
		  while(r!=tnode){
		    deselected.push(r);
		    r = r.parent;
		  }
		}
		else{
		  while(!r.isAncestorOf(cnode) || !r.isAncestorOf(tnode)){
		    deselected.push(r);
		    r = r.parent;
		  }
		  while(r!=tnode){
		    r = r.children.filter(isNodeOrAncestorOf)[0]
		    selected.push(r);
		  }
		}
		
		
		//update path
		for(var i=0; i&lt;deselected.length; i++){
		  this._selection.pop();
		}
		for(var i=0; i&lt;selected.length; i++){
		  this._selection.push(selected[i]);
		}


    this.trigger('change',{
      selected: selected,
      deselected: deselected,
      selection: this._selection,
      origin: cnode,
      target: tnode
    });
    
		/*
		//FIRE EVENTS
    
		//FIRE 'LEAVE' EVENT
		if(cnode){
      
			//fire generic 'leave' event in resulting current node
			this.trigger('leave', cnode);
			
			//fire specific node 'leave' event
			this.trigger('leave:'+cnode.id, cnode);
			
		}
    
		//--> LEGACY CONDITIONAL NOSTOP ATTRIBUTE WAS HERE...
    //see leagacy playhead implementations for more info
    
		//fire generic 'stay' event in resulting current node
		this.trigger('stay',tnode);
		
		//fire specific node 'stay' event
		this.trigger('stay:'+tnode.id,tnode);
    
		//notify node navigation completed
		this.trigger('ready',tnode);
    
    //return head node
		return this.head;
		
		*/
		
	}
	


}

//Doclets for Eventify extended methods

/**
 * Binds an event to a `callback` function. Passing `"all"` will bind
 * the callback to all events fired.
 * @memberof smx.Playhead
 * @instance
 * @method
 * @name on
 * @param {String} name
 * @param {Function} callback
 * @param {Object} context
 */

/**
 * Binds an event to only be triggered a single time. After the first time
 * the callback is invoked, it will be removed.
 * @memberof smx.Playhead
 * @instance
 * @method
 * @name once
 * @param {String} name
 * @param {Function} callback
 * @param {Object} context
 */

/**
 * Remove one or many callbacks. If `context` is null, removes all
 * callbacks with that function. If `callback` is null, removes all
 * callbacks for the event. If `name` is null, removes all bound
 * callbacks for all events.
 * @memberof smx.Playhead
 * @instance
 * @method
 * @name off
 * @param {String} name
 * @param {Function} callback
 * @param {Object} context
 */


//Doclet for PlayheadEvent definition
/**
 * Playhead Event Object
 * @typedef {Object} smx.Playhead.PlayheadEvent
 * @property {smx.Node[]} selected
 * @property {smx.Node[]} deselected
 * @property {smx.Node[]} selection
 * @property {smx.Node} origin
 * @property {smx.Node} target
 */


//Doclets for events

/*
 * Fired every time the head changes.
 * @event change
 * @memberof smx.Playhead
 * @return {smx.Playhead.PlayheadEvent}
 */

/*
 * Fired when entering to any node
 * @event enter
 * @memberof smx.Playhead
 * @return {smx.Playhead.PlayheadEvent}
 */

/*
 * Fired just after `enter` but for a specific node
 * @event enter:id
 * @memberof smx.Playhead
 * @return {smx.Playhead.PlayheadEvent}
 */

/*
 * Fired when exiting from any node
 * @event exit
 * @memberof smx.Playhead
 * @return {smx.Playhead.PlayheadEvent}
 */

/*
 * Fired just after `exit` but for a specific node
 * @event exit:id
 * @memberof smx.Playhead
 * @return {smx.Playhead.PlayheadEvent}
 */

/*
 * Fired every time a head change occurs and stays on any node
 * @event stay
 * @memberof smx.Playhead
 * @return {smx.Playhead.PlayheadEvent}
 */

/*
 * Fired just after `stay` but for a specific node
 * @event stay:id
 * @memberof smx.Playhead
 * @return {smx.Playhead.PlayheadEvent}
 */

/*
 * Fired every time a node stops being the head
 * @event leave
 * @memberof smx.Playhead
 * @return {smx.Playhead.PlayheadEvent}
 */

/*
 * Fired just after `leave` but for a specific node
 * @event leave:id
 * @memberof smx.Playhead
 * @return {smx.Playhead.PlayheadEvent}
 */

/*
 * Fired every time the playhead finishes all operations and goes idle
 * @event ready
 * @memberof smx.Playhead
 * @return {smx.Playhead.PlayheadEvent}
 */

/*
 * Fired when playhed goes to sync mode
 * @event sync
 * @memberof smx.Playhead
 * @return {smx.Playhead.PlayheadEvent}
 */

export default Playhead;</code>
  </pre>
</section>
  
  
</article>

<script>prettyPrint();</script>
<!--<script src="scripts/linenumber.js"></script>-->
</body>
</html>
